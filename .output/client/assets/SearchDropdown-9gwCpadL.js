import{r as c,j as e,c as $}from"./main-Cfdx-166.js";import{I as E}from"./input-DYbhqlvz.js";import{X as D}from"./x-OEbIHzu5.js";import{S as L}from"./search-BG32cvb7.js";import{C as R}from"./chevron-down-CCzDJ7wY.js";import{C as F}from"./check-eR3old9D.js";const B=({placeholder:u,options:i,value:f,searchValue:m,onSearchChange:d,onSelect:h,onClear:p,getOptionLabel:g,getOptionKey:v,isSelected:j,renderOption:x,isLoading:y=!1,loadingText:b="Loading...",noOptionsText:w="No options found",width:t="w-80",maxHeight:N="max-h-48",className:C})=>{const[a,r]=c.useState(!1),o=c.useRef(null);c.useEffect(()=>{const s=n=>{o.current&&!o.current.contains(n.target)&&r(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const k=s=>{h(s),r(!1)},S=s=>{s.stopPropagation(),p(),d("")};return e.jsxs("div",{className:`relative overflow-visible ${t}`,ref:o,children:[e.jsxs("div",{className:"relative",children:[e.jsx(E,{placeholder:u,value:m,onChange:s=>{d(s.target.value),r(!0)},onFocus:()=>r(!0),className:`${t} rounded-none bg-gray-100 border border-gray-300 pr-18 ${C}`}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[(f||m)&&e.jsx("button",{type:"button",onClick:S,className:"p-1 hover:bg-gray-200 rounded mr-1",children:e.jsx(D,{className:"h-4 w-4 text-gray-400 hover:text-gray-600 cursor-pointer"})}),e.jsx("div",{className:"flex items-center pr-3 pointer-events-none",children:e.jsx(L,{className:"h-4 w-4 text-gray-400"})}),e.jsx("button",{type:"button",onClick:()=>r(!a),className:"flex items-center pr-2",children:e.jsx(R,{className:`h-4 w-4 text-gray-400 transition-transform ${a?"rotate-180":""}`})})]})]}),a&&e.jsx("div",{className:`absolute z-50 ${t} mt-1 bg-white border border-gray-300 rounded-md shadow-lg ${N} overflow-y-auto left-0 top-full`,children:i.length>0?i.map(s=>{const n=v(s),l=j(s);return e.jsx("div",{onClick:()=>k(s),className:$("flex items-center justify-between px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",l&&"bg-gray-50"),children:x?x(s,l):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1",children:g(s)}),l&&e.jsx(F,{className:"h-4 w-4 text-green-600"})]})},n)}):e.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:y?b:w})})]})};export{B as S};
