import{d as b}from"./dayjs.min-BPVt0UoP.js";import{u as p,t as m}from"./utc-YeGeLL22.js";b.extend(p);b.extend(m);const h=e=>e?b.utc(e).tz("Asia/Kolkata").format("DD MMM YYYY"):"--",I=e=>e?b.utc(e).tz("Asia/Kolkata").format("DD MMM YYYY  hh:mm A"):"--",_=(e,n)=>{if(e.length<=n)return e;const s=e.lastIndexOf(".");if(s===-1||s===0)return e.slice(0,n)+"...";const r=e.slice(0,s),a=e.slice(s),u=n-a.length;return u<=0?e.slice(0,n)+"...":r.slice(0,u)+"..."+a};function C({stage:e,subStage:n,mappedCaseStagesData:s}){const r=e&&s?.[e];if(!r||!Array.isArray(r.sub_stages))return{isPrevSubStageCompleted:!1,isCurrentSubStageCompleted:!1};const a=r.sub_stages,u=n?.split("#")[1],c=a.findIndex(S=>Object.keys(S)[0]===u);if(c===-1)return{isPrevSubStageCompleted:!1,isCurrentSubStageCompleted:!1};let g="",l;c>0&&([g,l]=Object.entries(a[c-1])[0]);const[f,t]=Object.entries(a[c])[0],i=c===0||l&&l.status==="completed",o=t.status==="completed";return{isPrevSubStageCompleted:i,isCurrentSubStageCompleted:o,subStageLabel:`${e}#${g}`}}const d=new Set(["ONBD#UIDA"]),A=(e,n,s,r)=>{if(!s.length)return null;const a=()=>s.find(({subStage:t})=>!d.has(t))??null;if(!e){const t=s.find(({subStage:i})=>!d.has(i)&&n[i]!=="completed");return t?{stage:t.stage,sub_stage:t.subStage}:a()?{stage:a().stage,sub_stage:a().subStage}:null}const u=s.findIndex(({subStage:t})=>t===e);if(u===-1){const t=a();return t?{stage:t.stage,sub_stage:t.subStage}:null}for(let t=u+1;t<s.length;t++){const{stage:i,subStage:o}=s[t];if(!d.has(o)&&n[o]!=="completed")return{stage:i,sub_stage:o}}const c=s[u].stage;if(s.filter(t=>t.stage===c).every(t=>d.has(t.subStage)||n[t.subStage]==="completed")){const t=r.findIndex(o=>o.value===c)+1,i=r[t];if(i){const o=i.subSteps.find(S=>!d.has(S.name));if(o)return{stage:i.value,sub_stage:o.name}}}const f=s.slice().reverse().find(({subStage:t})=>!d.has(t));return f?{stage:f.stage,sub_stage:f.subStage}:null},D=(e,n,s)=>{const r=n.findIndex(a=>a.value===e);return r<=0?!0:n.slice(0,r).every(a=>s[a.value]==="completed")},P=(e,n)=>{const s=n.findIndex(a=>a.value===e),r=n[s+1];return r?.subSteps[0]?{stage:r.value,sub_stage:r.subSteps[0].name}:null},y=(e,n,s,r,a,u,c)=>{let g="";u?g="/legal-opinion/service":g="/litigations/service";const l=s()?`${g}/${n}/user/manage`:`${g}/${n}/manage`;e({to:l,search:{stage:r,sub_stage:a},replace:!0})};export{h as a,A as b,C as c,I as f,P as g,D as i,y as n,_ as s};
